(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6049e266"],{"48be":function(t,e,n){"use strict";n.r(e);var a=(n("caad"),n("94c5")),r=n("5ffe"),s=n("91b6"),i={name:"search",data:()=>({checkList:["已结款","未结款"],formInline:{supplyFactoryId:"",factoryName:"",start:"",end:"",payStateYes:1,payStateNo:1},date:[],CustomerList:[],sortList:[{name:"按库存-高到低",value:1},{name:"按库存-低到高",value:2},{name:"按最新入库时间",value:3},{name:"按最新出库时间",value:4}]}),created(){this.supplyFactorySelectList()},mounted(){},methods:{exportList(){if(!this.formInline.supplyFactoryId)return this.$message.warning("请选择供应商");this.checkList.includes("已结款")?this.formInline.payStateYes=1:this.formInline.payStateYes=0,this.checkList.includes("未结款")?this.formInline.payStateNo=1:this.formInline.payStateNo=0,2==this.date.length&&(this.formInline.start=this.date[0],this.formInline.end=this.date[1]);const t=this.loadFn(" 正在处理，请稍候..."),e=()=>t.close();Object(r.e)(this.formInline).then((t=>{if(1==t.code){const n=t.data.excelUrl;Object(s.a)(n,t.data.saveName,e).then((t=>{}))}}))},onSubmit(){if(!this.formInline.supplyFactoryId)return this.$message.warning("请选择供应商");this.checkList.includes("已结款")?this.formInline.payStateYes=1:this.formInline.payStateYes=0,this.checkList.includes("未结款")?this.formInline.payStateNo=1:this.formInline.payStateNo=0,2==this.date.length&&(this.formInline.start=this.date[0],this.formInline.end=this.date[1]),this.$emit("search",this.formInline)},clearbox(){this.formInline={supplyFactoryId:"",factoryName:"",start:"",end:"",payStateYes:0,payStateNo:0},this.checkList=[],this.date=[],this.$emit("search",this.formInline)},getFactoryName(t){this.CustomerList.forEach((e=>{e.supplyFactoryId==t&&(this.formInline.factoryName=e.name)}))},supplyFactorySelectList(){Object(a.p)().then((t=>{1==t.code&&(this.CustomerList=t.data.items)}))}}},o=i,c=(n("d03a"),n("2877")),p=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[e("el-form-item",{attrs:{label:"供应商:"}},[e("el-select",{staticClass:"inputbox",attrs:{placeholder:"请选择"},on:{change:t.getFactoryName},model:{value:t.formInline.supplyFactoryId,callback:function(e){t.$set(t.formInline,"supplyFactoryId",e)},expression:"formInline.supplyFactoryId"}},t._l(t.CustomerList,(function(t,n){return e("el-option",{key:n,attrs:{label:t.name,value:t.supplyFactoryId}})})),1)],1),e("el-form-item",{attrs:{label:"日期:"}},[e("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e("el-form-item",{attrs:{label:"付款状态："}},[e("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[e("el-checkbox",{attrs:{label:"已结款"}}),e("el-checkbox",{attrs:{label:"未结款"}})],1)],1),e("el-form-item",[e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSubmit}},[t._v("搜索")]),e("el-button",{attrs:{icon:"el-icon-delete"},on:{click:t.clearbox}},[t._v("清空")]),e("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.exportList}},[t._v("导出")])],1)],1)],1)}),[],!1,null,"b8f610ba",null),u=p.exports,l=n("4d86");const d=[{name:"image",fixed:!0,ch:"图片",width:"80"},{name:"specimenName",fixed:!0,ch:"样品名称"},{name:"specimenNo",fixed:!1,ch:"样品编号",width:"120"},{name:"factoryNo",fixed:!1,ch:"工厂货号",width:"120"},{name:"pcsNum",fixed:!1,ch:"装箱数"},{name:"ctnsNum",fixed:!1,ch:"箱数",width:"80"},{name:"price",fixed:!1,ch:"进货价"},{name:"totalPrice",fixed:!1,ch:"总金额",width:"150"},{name:"purchaseDate",fixed:!1,ch:"采购日期",width:"150"},{name:"orderNo",fixed:!1,ch:"订单编号",width:"150"}];var h={name:"tableList",components:{pagination:l.a},props:{tableInfo:{type:Object,default:{pageNo:1,limit:10,total:0,totalPage:0,rows:[]}}},watch:{tableInfo:{handler(t){this.listQuery.pageNo=t.pageNo,this.listQuery.limit=t.pageSize},immediate:!0,deep:!0}},data:()=>({lables:d,listQuery:{pageNo:1,pageSize:10}}),methods:{pageList(t){const e={pageNo:t.page,pageSize:t.rows};this.$emit("getList",e)}}},m=h,f=(n("dada"),Object(c.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tablelist",staticStyle:{"z-index":"2000"}},[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableInfo.rows,"tooltip-effect":"dark",height:"70vh",border:""}},[e("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",[t._v(t._s(n.$index+1))])]}}])}),t._l(t.lables,(function(n,a){return e("el-table-column",{key:a,attrs:{"show-overflow-tooltip":"card"!=n.name,label:n.ch,prop:n.name,fixed:n.fixed,width:n.width||"auto",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",["image"==n.name?e("div",{staticClass:"demo-image__preview"},[e("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:a.row.image,"preview-src-list":[a.row.image]}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),e("span",{staticClass:"dot"},[t._v("...")])]),e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1):e("div",[t._v(" "+t._s(a.row[String(n.name)])+" ")])])]}}],null,!0)})}))],2),e("pagination",{attrs:{total:t.tableInfo.total||0,page:t.listQuery.pageNo||0,limit:t.listQuery.pageSize||0},on:{"update:page":function(e){return t.$set(t.listQuery,"pageNo || 0",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize || 0",e)},pagination:t.pageList}})],1)}),[],!1,null,"5690bb5b",null)),y={name:"spacimen",components:{search:u,tablelist:f.exports},data:()=>({tableInfo:{},formInline:{supplyFactoryId:"",factoryName:"",start:"",end:"",payStateYes:1,payStateNo:1},selectedItemList:[]}),async created(){},methods:{search(t){this.formInline=t,Object(r.f)(t).then((e=>{1==e.code?this.tableInfo={pageNo:t.pageNo,pageSize:t.pageSize,total:e.data.total,rows:e.data.items}:this.tableInfo={pageNo:t.pageNo,pageSize:t.pageSize,total:0,rows:[]}}))},getList(t){this.formInline=Object.assign(this.formInline,t),this.search(this.formInline)},selectedItems(t){this.selectedItemList=t},refresh(){this.search(this.formInline)},deleteConform(){let t=[];this.selectedItemList.forEach((e=>{t.push(e.orderSheetId)})),deleteList({orderSheetId:t.toString()}).then((t=>{1==t.code?(this.$message.success(t.message),this.search(this.formInline)):this.$message.error(t.message)}))}},mounted(){}},b=y,S=Object(c.a)(b,(function(){var t=this,e=t._self._c;return e("div",[e("search",{on:{search:t.search}}),e("tablelist",{attrs:{tableInfo:t.tableInfo},on:{getList:t.getList,selectedItems:t.selectedItems,refresh:t.refresh}})],1)}),[],!1,null,"538ce448",null);e.default=S.exports},"5ffe":function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"m",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"j",(function(){return f})),n.d(e,"i",(function(){return y})),n.d(e,"o",(function(){return b})),n.d(e,"p",(function(){return S})),n.d(e,"n",(function(){return g}));var a=n("b775");function r(t){return Object(a.a)({url:"/supplyApp/specimenStatisticsList",method:"post",params:t})}function s(t){return Object(a.a)({url:"/admin/orderSheetStatisticsList",method:"post",params:t})}function i(t){return Object(a.a)({url:"/supplyApp/orderSheetSpecimenStatisticsList",method:"post",params:t})}function o(t){return Object(a.a)({url:"/admin/purchaseSheetStatisticsList",method:"post",params:t})}function c(t){return Object(a.a)({url:"/supplyApp/purchaseSheetSpecimenStatisticsList",method:"post",params:t})}function p(t){return Object(a.a)({url:"/supplyApp/specimenStockStatisticsList",method:"post",params:t})}function u(t){return Object(a.a)({url:"/supplyApp/specimenStockList",method:"post",params:t})}function l(t){return Object(a.a)({url:"/supplyApp/purchaseSheetDuiZhangList",method:"post",params:t})}function d(t){return Object(a.a)({url:"/supplyApp/purchaseSheetDuiZhang",method:"post",params:t})}function h(t){return Object(a.a)({url:"/supplyApp/orderSheetDuiZhangList",method:"post",params:t})}function m(t){return Object(a.a)({url:"/supplyApp/orderSheetDuiZhang",method:"post",params:t})}function f(t){return Object(a.a)({url:"/supplyApp/sheetExceptionGenerateList",method:"post",params:t})}function y(t){return Object(a.a)({url:"/supplyApp/sheetExceptionGenerate",method:"post",params:t})}function b(t){return Object(a.a)({url:"/supplyApp/supplyStoreStaffList",method:"post",params:t})}function S(t){return Object(a.a)({url:"/supplyApp/supplyUserSetAdmin",method:"post",params:t})}function g(t){return Object(a.a)({url:"/supplyApp/supplyStoreStaffDelete",method:"post",params:t})}},6243:function(t,e,n){},"94c5":function(t,e,n){"use strict";n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return s})),n.d(e,"b",(function(){return i})),n.d(e,"p",(function(){return o})),n.d(e,"o",(function(){return c})),n.d(e,"a",(function(){return p})),n.d(e,"n",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"g",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return y})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return S})),n.d(e,"h",(function(){return g}));var a=n("b775");function r(t){return Object(a.a)({url:"/admin/purchaseSheetList",method:"post",params:t})}function s(t){return Object(a.a)({url:"/supplyApp/sheetTypeList",method:"get",params:{type:3}})}function i(t){return Object(a.a)({url:"/supplyApp/purchaseSheetDelete",method:"post",params:t})}function o(){return Object(a.a)({url:"/supplyApp/supplyFactorySelectList",method:"get"})}function c(){return Object(a.a)({url:"/supplyApp/supplyAddressList",method:"get"})}function p(t){return Object(a.a)({url:"/supplyApp/purchaseSheetSave",method:"post",data:t})}function u(t){return Object(a.a)({url:"/admin/specimenGetStockPrices",method:"post",params:t})}function l(t){return Object(a.a)({url:"/supplyApp/purchaseSheetGetAddress",method:"post",params:t})}function d(t){return Object(a.a)({url:"/supplyApp/purchaseSheetDetail",method:"post",params:t})}function h(t){return Object(a.a)({url:"/supplyApp/purchaseSheetProgressUpdate",method:"post",params:t})}function m(t){return Object(a.a)({url:"/admin/purchaseSheetTimelineList",method:"post",params:t})}function f(t){return Object(a.a)({url:"/supplyApp/purchaseSheetTimelineAdd",method:"post",params:t})}function y(t){return Object(a.a)({url:"/supplyApp/purchaseSheetTimelineDelete",method:"post",params:t})}function b(t){return Object(a.a)({url:"/supplyApp/purchaseSheetExceptionHandle",method:"post",params:t})}function S(t){return Object(a.a)({url:"/supplyApp/purchaseSheetExceptionSave",method:"post",params:t})}function g(t){return Object(a.a)({url:"/supplyApp/purchaseSheetSubmitMistakeInfo",method:"post",params:t})}},c6a5:function(t,e,n){},d03a:function(t,e,n){"use strict";n("6243")},dada:function(t,e,n){"use strict";n("c6a5")}}]);