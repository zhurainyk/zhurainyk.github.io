(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cdbf4b24"],{"00e2":function(e,t,i){"use strict";i("fb77")},2:function(e,t){},3:function(e,t){},"3adf":function(e,t,i){"use strict";i("7a99")},4:function(e,t){},"4eef":function(e,t,i){"use strict";i("ff46")},5:function(e,t){},6:function(e,t){},7:function(e,t){},"7a99":function(e,t,i){},8554:function(e,t,i){"use strict";i("f184")},db3f:function(e,t,i){"use strict";i.r(t);var s=(i("88e3"),i("caad"),function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.formTitle,visible:e.addShow,"append-to-body":"",width:"70%","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.addShow=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"客户名称","label-width":e.formLabelWidth,prop:"customerName"}},[t("el-input",{attrs:{autocomplete:"off",disabled:e.disabled,placeholder:"请输入客户名称"},model:{value:e.addForm.customerName,callback:function(t){e.$set(e.addForm,"customerName",t)},expression:"addForm.customerName"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"语言","label-width":e.formLabelWidth}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择语言",disabled:e.disabled},model:{value:e.addForm.language,callback:function(t){e.$set(e.addForm,"language",t)},expression:"addForm.language"}},e._l(e.languageList,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"美元汇率","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off",disabled:!0,placeholder:"请输入美元汇率"},model:{value:e.addForm.usdRate,callback:function(t){e.$set(e.addForm,"usdRate",t)},expression:"addForm.usdRate"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"分类","label-width":e.formLabelWidth,prop:"sheetTypeId"}},[t("div",{staticStyle:{display:"flex"}},[t("el-select",{staticStyle:{"flex-grow":"1","margin-right":"10px"},attrs:{disabled:e.disabled,filterable:"",placeholder:"请选择分类"},model:{value:e.addForm.sheetTypeId,callback:function(t){e.$set(e.addForm,"sheetTypeId",t)},expression:"addForm.sheetTypeId"}},e._l(e.selectTypeList,(function(e,i){return t("el-option",{key:i,attrs:{label:e.name,value:e.sheetTypeId}})})),1),t("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.addNewType}},[e._v("新增分类")])],1)])],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{label:"谁可以看","label-width":e.formLabelWidth,prop:"permissionType"}},[t("el-cascader",{attrs:{options:e.permissionTypeList,props:{multiple:!0,checkStrictly:!0,emitPath:!1},disabled:e.disabled},on:{change:e.handleChangePermissionType},model:{value:e.permissionType,callback:function(t){e.permissionType=t},expression:"permissionType"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:20}},[t("el-form-item",[t("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.selectSpecimen}},[e._v("选择样品")]),t("el-button",{staticStyle:{"margin-right":"10px"},attrs:{disabled:e.disabled,type:"primary"},on:{click:e.primaryFilter}},[e._v("高级筛选")]),t("el-autocomplete",{attrs:{disabled:e.disabled,"fetch-suggestions":e.querySearchAsync,placeholder:"请输入样品名称、工厂编号快捷添加",clearable:""},on:{select:e.handleSelectAdd},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)],1)],1),t("selectspaciment",{ref:"selectspaciment",attrs:{addShow:e.selectSpecimenShow,formType:e.formType},on:{"update:addShow":function(t){e.selectSpecimenShow=t},"update:add-show":function(t){e.selectSpecimenShow=t},addConform:e.addConformList}}),t("selectspaciment2",{ref:"selectspaciment2",on:{addConform:e.addConformList}}),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.addForm.handleSelectAddList,"tooltip-effect":"dark",border:"",height:"400","cell-class-name":({row:e,column:t,rowIndex:i,columnIndex:s})=>(e.index=i,t.index=s)},on:{"cell-click":e.tableCellClick}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"序号",fixed:"",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",[e._v(e._s(i.$index+1))])]}}])}),e._l(e.lables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"image"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[e._v(" 操作"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(i.btnList,(function(i,s){return t("el-dropdown-item",{key:s},[t("el-button",{attrs:{type:"text",disabled:e.disabled,size:"small"},on:{click:function(t){return e.hanldeClick(i.value,a.row,a.$index)}}},[e._v(" "+e._s(i.name)+" ")])],1)})),1)],1)],1):"image"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:a.row.image},on:{click:function(t){return e.handleShowPictureList(s,a.row)}}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):a.row.index===e.tableCellClickRowIndex&&a.column.index===e.tableCellClickColumnIndex?t("span",[t("el-form-item",[t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"请输入内容…",disabled:!e.canEditList.includes(i.name)&&this.editIsDisabled,size:"mini",autofocus:""},model:{value:a.row[String(i.name)],callback:function(t){e.$set(a.row,String(i.name),t)},expression:"scope.row[String(item.name)]"}})],1)],1):t("span",[e._v(e._s(a.row[String(i.name)]))])])]}}],null,!0)})}))],2)],1),t("pictureslist",{ref:"pictureslist",attrs:{specimenId:e.specimenId},on:{setMain:e.setMain}}),3!=e.formType?t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addConform}},[e._v("确 定")])],1):e._e(),t("el-dialog",{attrs:{title:"新增分类",visible:e.addNewShow,width:"30%","append-to-body":""},on:{"update:visible":function(t){e.addNewShow=t}}},[t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("span",[e._v("分类名称：")]),t("el-input",{staticStyle:{width:"180px"},model:{value:e.addNewValue,callback:function(t){e.addNewValue=t},expression:"addNewValue"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.conformAddNew(0)}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.conformAddNew(1)}}},[e._v("确 定")])],1)]),t("el-dialog",{attrs:{title:"高级筛选",visible:e.primaryShow,width:"30%","append-to-body":""},on:{"update:visible":function(t){e.primaryShow=t}}},[t("div",{staticClass:"primaryfilter"},[t("span",[e._v("价格区间：")]),t("el-input",{staticStyle:{width:"100px"},model:{value:e.primaryForm.minPrice,callback:function(t){e.$set(e.primaryForm,"minPrice",t)},expression:"primaryForm.minPrice"}}),t("span",{staticStyle:{width:"15px","text-align":"center"}},[e._v("-")]),t("el-input",{staticStyle:{width:"100px"},model:{value:e.primaryForm.maxPrice,callback:function(t){e.$set(e.primaryForm,"maxPrice",t)},expression:"primaryForm.maxPrice"}})],1),t("div",{staticClass:"primaryfilter"},[t("span",[e._v("分类：")]),t("el-select",{attrs:{multiple:""},model:{value:e.specimenTypeIds,callback:function(t){e.specimenTypeIds=t},expression:"specimenTypeIds"}},e._l(e.specimenTypeList,(function(e,i){return t("el-option",{key:i,attrs:{label:e.specimenType,value:e.specimenTypeId}})})),1)],1),t("div",{staticClass:"primaryfilter"},[t("span",[e._v("销往区域：")]),t("el-select",{attrs:{multiple:"","collapse-tags":""},model:{value:e.specimenAreaIds,callback:function(t){e.specimenAreaIds=t},expression:"specimenAreaIds"}},e._l(e.specimenAreaList,(function(e,i){return t("el-option",{key:i,attrs:{label:e.name,value:e.specimenAreaId}})})),1)],1),t("div",{staticClass:"primaryfilter"},[t("span",[e._v("主品名：")]),t("el-input",{staticStyle:{width:"215px"},model:{value:e.primaryForm.specimenName,callback:function(t){e.$set(e.primaryForm,"specimenName",t)},expression:"primaryForm.specimenName"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.conformPrimaryFilter(0)}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.conformPrimaryFilter(1)}}},[e._v("确 定")])],1)])],1)}),a=(i("13d5"),i("daa0")),o=i("eede"),l=i("1973");const r=[{name:"specimenType",fixed:!0,ch:"样品分类"},{name:"specimenCount",fixed:!0,ch:"样品数量"}];r.push({name:"operation",fixed:"right",ch:"操作",width:250,align:"center",btnList:[{value:1,name:"选择分类样品"}]});const n=[{name:"image",fixed:!0,ch:"图片"},{name:"fullName",fixed:!0,ch:"全品名"},{name:"factoryNo",fixed:!0,ch:"货号"},{name:"pack",fixed:!0,ch:"包装"},{name:"pcsNum",fixed:!0,ch:"装箱数"},{name:"volume",fixed:!0,ch:"体积"},{name:"moq",fixed:!0,ch:"起订量"},{name:"price",fixed:!0,ch:"单价"}];var d={name:"LingyiTradeWebSelectspecimen",props:["addShow","formType"],data:()=>({lables:r,detailLables:n,disabled:!1,isShowSearch:!0,formTitle:"选择样品分类",key:"",handleSelectAddList:[],multipleSelection:[],multipleDetailSelection:[],specimenTitle:"",spceimenDetailShow:!1,specimenTypeId:"",detailKey:"",handleDetailtAddList:[],queryResultList:[]}),watch:{addShow(e){e&&(3==this.formType?this.disabled=!0:this.disabled=!1,this.specimenListSelectType())}},mounted(){},methods:{getSummaries(e){const{columns:t,data:i}=e,s=[];return t.forEach(((e,t)=>{if(2!=t)if(3==t){let e=0;this.multipleSelection.forEach((t=>{e+=Number(t.specimenCount)})),s[t]=e+"个样品"}else s[t]="";else s[t]="已选中"})),s},handleClose(){this.$emit("update:addShow",!1)},addConform(){let e=[];this.multipleSelection.forEach((t=>{e.push(t.specimenTypeId)}));const t={specimenTypeIds:e.join(",")};console.log(t),Object(l.x)(t).then((e=>{this.$emit("addConform",e)}))},specimenListSelectType(){Object(l.w)().then((e=>{e&&(this.handleSelectAddList=e)}))},handleCloseDetail(){this.spceimenDetailShow=!1},addDetailConform(){this.handleCloseDetail(),this.$emit("addConform",this.multipleDetailSelection)},specimenListSelect(){Object(l.u)().then((e=>{}))},handleSelectionChange(e){console.log(e),this.multipleSelection=e},hanldeClick(e,t){if(1==e){console.log(t),this.isShowSearch=!0,this.specimenTypeId=t.specimenTypeId,this.specimenTitle=t.specimenType,this.spceimenDetailShow=!0;const e={specimenTypeId:this.specimenTypeId};Object(l.u)(e).then((e=>{1==e.code&&(this.handleDetailtAddList=e.data.specimens)}))}},queryList(e=[]){this.spceimenDetailShow=!0,this.specimenTitle="选择样品",this.isShowSearch=!1;const t={key:this.key};e.length?this.handleDetailtAddList=e:Object(l.v)(t).then((e=>{1==e.code&&(this.handleDetailtAddList=e.data.specimens)}))},queryDetailList(){const e={key:this.detailKey,specimenTypeId:this.specimenTypeId};Object(l.u)(e).then((e=>{1==e.code&&(this.handleDetailtAddList=e.data.specimens)}))},handleDetailSelectionChange(e){console.log(e),this.multipleDetailSelection=e}}},c=d,h=i("2877"),m=Object(h.a)(c,(function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.formTitle,visible:e.addShow,"append-to-body":"",width:"60%","close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.addShow=t}}},[t("div",{staticStyle:{display:"flex","justify-content":"start","align-items":"center","margin-bottom":"20px"}},[t("span",[e._v("关键字：")]),t("el-input",{staticStyle:{width:"220px","margin-right":"10px"},attrs:{placeholder:"请输入品名/工厂货号/编号搜索"},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}}),t("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryList}},[e._v("查询")])],1),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.handleSelectAddList,"tooltip-effect":"dark",height:"400",border:"","summary-method":e.getSummaries,"show-summary":""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.lables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"card"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(i.btnList,(function(i,a){return t("el-button",{key:a,attrs:{type:"text",size:"small",disabled:e.disabled},on:{click:function(t){return e.hanldeClick(i.value,s.row)}}},[e._v(e._s(i.name))])})),1):"card"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.card,"preview-src-list":[s.row.card]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2),t("el-dialog",{attrs:{title:e.specimenTitle,visible:e.spceimenDetailShow,"append-to-body":"",width:"60%","close-on-click-modal":!1,"before-close":e.handleCloseDetail},on:{"update:visible":function(t){e.spceimenDetailShow=t}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSearch,expression:"isShowSearch"}],staticStyle:{display:"flex","align-items":"center","margin-bottom":"10px"}},[t("span",[e._v("关键字：")]),t("el-input",{staticStyle:{margin:"0 10px",width:"250px"},attrs:{placeholder:"请输入品名/工厂货号/编号搜索"},model:{value:e.detailKey,callback:function(t){e.detailKey=t},expression:"detailKey"}}),t("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryDetailList}},[e._v("查询")])],1),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.handleDetailtAddList,"tooltip-effect":"dark",height:"400",border:""},on:{"selection-change":e.handleDetailSelectionChange}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.detailLables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"card"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}}):"image"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.image,"preview-src-list":[s.row.image]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleCloseDetail}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addDetailConform}},[e._v("确 定")])],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addConform}},[e._v("确 定")])],1)],1)}),[],!1,null,"426b9c4b",null),p=m.exports;const u=[{name:"specimenType",fixed:!0,ch:"样品分类"},{name:"specimenCount",fixed:!0,ch:"样品数量"}];u.push({name:"operation",fixed:"right",ch:"操作",width:250,align:"center",btnList:[{value:1,name:"选择分类样品"}]});const f=[{name:"image",fixed:!0,ch:"图片"},{name:"fullName",fixed:!0,ch:"全品名"},{name:"factoryNo",fixed:!0,ch:"货号"},{name:"pack",fixed:!0,ch:"包装"},{name:"pcsNum",fixed:!0,ch:"装箱数"},{name:"volume",fixed:!0,ch:"体积"},{name:"moq",fixed:!0,ch:"起订量"},{name:"price",fixed:!0,ch:"单价"}];var w={props:["addShow","formType"],data:()=>({lables:u,detailLables:f,disabled:!1,isShowSearch:!0,formTitle:"选择样品分类",key:"",handleSelectAddList:[],multipleSelection:[],multipleDetailSelection:[],specimenTitle:"",spceimenDetailShow:!1,specimenTypeId:"",detailKey:"",handleDetailtAddList:[],queryResultList:[]}),watch:{addShow(e){e&&(3==this.formType?this.disabled=!0:this.disabled=!1,this.specimenListSelectType())}},mounted(){},methods:{getSummaries(e){const{columns:t,data:i}=e,s=[];return t.forEach(((e,t)=>{if(2!=t)if(3==t){let e=0;this.multipleSelection.forEach((t=>{e+=Number(t.specimenCount)})),s[t]=e+"个样品"}else s[t]="";else s[t]="已选中"})),s},handleClose(){this.$emit("update:addShow",!1)},addConform(){let e=[];this.multipleSelection.forEach((t=>{e.push(t.specimenTypeId)}));const t={specimenTypeIds:e.join(",")};console.log(t),Object(l.x)(t).then((e=>{this.$emit("addConform",e)}))},specimenListSelectType(){Object(l.w)().then((e=>{e&&(this.handleSelectAddList=e)}))},handleCloseDetail(){this.spceimenDetailShow=!1},addDetailConform(){this.handleCloseDetail(),this.$emit("addConform",this.multipleDetailSelection)},specimenListSelect(){Object(l.u)().then((e=>{}))},handleSelectionChange(e){console.log(e),this.multipleSelection=e},hanldeClick(e,t){if(1==e){console.log(t),this.isShowSearch=!0,this.specimenTypeId=t.specimenTypeId,this.specimenTitle=t.specimenType,this.spceimenDetailShow=!0;const e={specimenTypeId:this.specimenTypeId};Object(l.u)(e).then((e=>{1==e.code&&(this.handleDetailtAddList=e.data.specimens)}))}},queryList(e=[]){this.spceimenDetailShow=!0,this.specimenTitle="选择样品",this.isShowSearch=!1;const t={key:this.key};e.length?this.handleDetailtAddList=e:Object(l.v)(t).then((e=>{1==e.code&&(this.handleDetailtAddList=e.data.specimens)}))},queryDetailList(){const e={key:this.detailKey,specimenTypeId:this.specimenTypeId};Object(l.u)(e).then((e=>{1==e.code&&(this.handleDetailtAddList=e.data.specimens)}))},handleDetailSelectionChange(e){console.log(e),this.multipleDetailSelection=e}}},S=w,y=Object(h.a)(S,(function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.specimenTitle,visible:e.spceimenDetailShow,"append-to-body":"",width:"60%","close-on-click-modal":!1,"before-close":e.handleCloseDetail},on:{"update:visible":function(t){e.spceimenDetailShow=t}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSearch,expression:"isShowSearch"}],staticStyle:{display:"flex","align-items":"center","margin-bottom":"10px"}},[t("span",[e._v("关键字：")]),t("el-input",{staticStyle:{margin:"0 10px",width:"250px"},attrs:{placeholder:"请输入品名/工厂货号/编号搜索"},model:{value:e.detailKey,callback:function(t){e.detailKey=t},expression:"detailKey"}}),t("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.queryDetailList}},[e._v("查询")])],1),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.handleDetailtAddList,"tooltip-effect":"dark",height:"400",border:""},on:{"selection-change":e.handleDetailSelectionChange}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.detailLables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"card"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}}):"image"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.image,"preview-src-list":[s.row.image]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleCloseDetail}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.addDetailConform}},[e._v("确 定")])],1)],1)}),[],!1,null,"30aed434",null),g=y.exports,b=i("d215");const v=[{name:"image",fixed:!0,ch:"图片",width:"70"},{name:"specimenName",fixed:!0,ch:"品名",width:"150"},{name:"factoryNo",fixed:!1,ch:"货号"},{name:"pack",fixed:!1,ch:"包装"},{name:"pcsNum",fixed:!1,ch:"装箱数"},{name:"volume",fixex:!1,ch:"体积"},{name:"moq",fixex:!1,ch:"起订量"},{name:"price",fixex:!1,ch:"单价"},{name:"comment",fixex:!1,ch:"备注"}];v.push({name:"operation",fixed:"right",ch:"操作",width:80,align:"center",btnList:[{value:1,name:"上移"},{value:2,name:"下移"},{value:3,name:"置顶"},{value:4,name:"置底"},{value:5,name:"删除"}]});const C={usdRate:"",priceSheetId:"",customerName:"",language:"",sheetTypeId:"",specimens:"",permissionType:[],handleSelectAddList:[]};var x={props:["addShow","priceSheetId","formType","defaultTitle"],components:{selectspaciment:p,selectspaciment2:g},mixins:[b.a,a.a],data:()=>({lables:v,specimenId:"",index:"",specimenAreaList:[],canEditList:["factoryNo","pack","pcsNum","volume","moq","price","comment"],specimenTypeIds:[],primaryForm:{minPrice:"",maxPrice:"",specimenTypeIds:"",specimenAreaIds:"",specimenName:""},disabled:!1,specimenAreaIds:[],primaryShow:!1,addRules:{customerName:[{required:!0,message:"请输入客户名称",trigger:"blur"}]},addNewValue:"",formLabelWidth:"120px",formInline:{priceSheetId:""},selectSpecimenShow:!1,addNewShow:!1,addForm:JSON.parse(JSON.stringify(C)),tableInfo:{items:[]},options:[],selectTypeList:[],searchKey:"",languageList:["中文","英语","西语","阿拉伯语","俄语"],handleSelectAddList:[],multipleSelection:[],specimenTypeList:[],formTitle:""}),activated(){},mounted(){this.priceSheetTypeList(),this.specimenListSelectType(),this.getsheetTypeList(),this.getSpecimenAreaList()},watch:{addShow(e){e&&1!=this.formType?2==this.formType?(this.disabled=!1,this.formTitle="编辑报价单",this.editIsDisabled=!1,this.priceSheetDetail({priceSheetId:this.priceSheetId})):3==this.formType?(this.disabled=!0,this.editIsDisabled=!0,this.formTitle="报价单详情",this.priceSheetDetail({priceSheetId:this.priceSheetId})):(this.disabled=!1,this.formTitle=this.defaultTitle,this.editIsDisabled=!1,this.priceSheetDetail({priceSheetId:this.priceSheetId},!0)):(this.formTitle="新增报价单",this.editIsDisabled=!1,this.addForm=JSON.parse(JSON.stringify(C)),this.addForm.language="中文",this.permissionType=["1"],this.shareScopeEnd=["1"],this.addForm.handleSelectAddList=[],this.exchangeRate()),this.searchKey=""}},methods:{handleShowPictureList(e,t){this.specimenId=t.specimenId,this.index=e,this.$refs.pictureslist.listShow=!0},setMain(e){this.addForm.handleSelectAddList[this.index].image=e},caculate(){},getSpecimenAreaList(){Object(o.g)().then((e=>{1==e.code&&(this.specimenAreaList=e.data.items)}))},exchangeRate(){Object(l.b)().then((e=>{1==e.code&&(this.addForm.usdRate=e.data.usdRate)}))},primaryFilter(){this.primaryShow=!0},hanldeClick(e,t,i){switch(console.log(i),e){case 1:if(console.log("上移"),0!=i){const e=this.addForm.handleSelectAddList.splice(i,1);this.addForm.handleSelectAddList.splice(i-1,0,e[0])}break;case 2:if(console.log("下移"),i!=this.addForm.handleSelectAddList.length-1){const e=this.addForm.handleSelectAddList.splice(i,1);this.addForm.handleSelectAddList.splice(i+1,0,e[0])}break;case 3:{console.log("置顶");const e=this.addForm.handleSelectAddList.splice(i,1);this.addForm.handleSelectAddList.unshift(e[0]);break}case 4:{console.log("置底");const e=this.addForm.handleSelectAddList.splice(i,1);this.addForm.handleSelectAddList.push(e[0]);break}case 5:console.log("删除"),this.addForm.handleSelectAddList.splice(i,1)}},conformPrimaryFilter(e){if(e){const e=this.primaryForm.minPrice,t=this.primaryForm.maxPrice,i=this.specimenTypeIds.length,s=this.specimenAreaIds.length,a=this.specimenName;if(!(e&&t||i||s||a))return this.$message.error("请至少输入或者选择一项");this.primaryForm.specimenTypeIds=this.specimenTypeIds.join(","),this.primaryForm.specimenAreaIds=this.specimenAreaIds.join(",");const o=this.loadFn();Object(l.t)(this.primaryForm).then((e=>{1==e.code?(this.$refs.selectspaciment2.spceimenDetailShow=!0,this.$message.success(e.message),setTimeout((()=>{this.$refs.selectspaciment2.queryList(e.data.specimens)}))):this.$message.error(e.message),o.close(),this.primaryShow=!1}))}else this.primaryShow=!1,this.primaryForm.specimenTypeIds="",this.primaryForm.specimenAreaIds="",this.primaryForm.specimenName="",this.primaryForm.maxPrice="",this.primaryForm.minPrice="",this.specimenTypeIds=[],this.specimenAreaIds=[]},addConformList(e){console.log(e),this.selectSpecimenShow=!1;let t=[];e.forEach((e=>{let i=!1;this.addForm.handleSelectAddList.forEach((t=>{t.specimenId==e.specimenId&&(i=!0)})),i||(t.push(e),e.comment||(e.comment=""),this.addForm.handleSelectAddList.push(e))})),this.specimenGetComments(t)},specimenGetComments(e=!1){let t;t=e.length?e.reduce(((e,t)=>[...e,t.specimenId]),[]):this.addForm.handleSelectAddList.reduce(((e,t)=>[...e,t.specimenId]),[]),Object(o.k)({specimenIds:t.join(",")}).then((e=>{if(1==e.code){let t=null,i={};this.addForm.handleSelectAddList.forEach(((s,a)=>{e.data.items.forEach((e=>{s.specimenId==e.specimenId&&(s.comment=e.comment,t=a,i=s)}))})),this.addForm.handleSelectAddList.splice(t,1,i),console.log(this.addForm.handleSelectAddList)}}))},selectSpecimen(){this.selectSpecimenShow=!0},querySearchAsync(e,t){const i={key:this.searchKey};Object(l.v)(i).then((e=>{if(1==e.code){const i=e.data.specimens;i.map((e=>(e.value=e.specimenName,e))),t(i)}}))},getsheetTypeList(e){Object(l.s)().then((t=>{1==t.code&&(this.selectTypeList=t.data,e&&(this.addForm.sheetTypeId=e))}))},handleSelectAdd(e){let t=!1;e=JSON.parse(JSON.stringify(e)),this.addForm.handleSelectAddList.forEach((i=>{i.specimenId==e.specimenId&&(t=!0)})),t||(e.comment||(e.comment=""),this.addForm.handleSelectAddList.push(e),this.searchKey="",this.specimenGetComments([e]))},handleSelectionChange(e){console.log(e),this.multipleSelection=e},conformAddNew(e){if(e){if(!this.addNewValue)return this.$message.error("请输入分类");this.addNewShow=!1,Object(l.r)({type:"1",name:this.addNewValue}).then((e=>{1==e.code&&this.getsheetTypeList(e.data.sheetTypeId)}))}else this.addNewShow=!1},priceSheetTypeList(){},specimenListSelectType(){Object(l.w)().then((e=>{e&&(this.specimenTypeList=e)}))},addNewType(){this.addNewShow=!0,this.addNewValue=""},addConform(){this.$refs.addForm.validate((e=>{if(e){const e=[{key:"pcsNum",ch:"装箱数",rule:/^\d+$/,isNeed:0,type:"整数"},{key:"volume",ch:"体积",rule:/\d+\.?\d+/,isNeed:0,type:"小数"},{key:"moq",ch:"起订量",rule:/^\d+$/,isNeed:0,type:"整数"},{key:"price",ch:"单价",rule:/\d+\.?\d+/,isNeed:1,type:"小数"}],t=this.$checkRules(this.addForm.handleSelectAddList,e);if(console.log(t),!t)return;this.addForm.specimens=JSON.stringify(this.addForm.handleSelectAddList),delete this.addForm.handleSelectAddList,null==this.addForm.sheetTypeId&&(this.addForm.sheetTypeId=""),this.addForm.items=JSON.stringify(this.addForm.items),this.addForm.timelines=JSON.stringify(this.addForm.timelines),1==this.shareScopeEnd.toString()?this.addForm.permissionType=1:2==this.shareScopeEnd.toString()?this.addForm.permissionType=2:(this.addForm.permissionType=3,this.addForm.permissionUserIds=this.shareScopeEnd.join(",")),console.log(this.addForm),this.$emit("addConform",1,this.addForm)}}))},priceSheetDetail(e,t=!1){Object(l.e)(e).then((e=>{1==e.code&&(this.addForm=e.data,this.addForm.handleSelectAddList=[],this.addForm.handleSelectAddList.push(...e.data.items)),t&&(this.addForm.priceSheetId="",this.initPermission())}))},handleClose(){this.$emit("update:addShow",!1)}}},_=x,k=(i("4eef"),Object(h.a)(_,s,[],!1,null,"6d2deb38",null)).exports,L=i("91b6");let I={name:"",card:"",businessType:"",contractName:"",phone:"",wechat:"",qq:"",address:"",paymentDay:"",comment:"",images:"",totalEvaluateStar:0,companyScaleStar:0,payConditionStar:0,supplyFactoryId:""};var T={name:"btnlist",components:{detailForm:k},props:["selectedItemList"],data:()=>({formLabelWidth:"120px",formTitle:"",addShow:!1,priceSheetId:"",formType:1,deleteShow:!1,batchImportShow:!1,currentName:"",addForm:JSON.parse(JSON.stringify(I)),addRules:{name:[{required:!0,message:"请输入全称",trigger:"blur"},{min:1,max:40,message:"长度在 1 到 40 个字符",trigger:"blur"}],shortName:[{required:!0,message:"请输入简称",trigger:"blur"},{min:1,max:40,message:"长度在 1 到 40 个字符",trigger:"blur"}]}}),methods:{templateManagement(){this.$refs.templatemanagement.templateManagementShow=!0},typeManagement(){this.$refs.typemanagement0.typeManagementShow=!0},add(){this.$tip()||(this.addShow=!0,this.formType=1)},sendName(e){this.currentName=e},getImgList(e,t){console.log("图片上传",e,t,typeof t),console.log(typeof t.__ob__.value),this.addForm.card=e},getCommentImgList(e,t){console.log("图片上传",e,t,typeof t),console.log(typeof t.__ob__.value),this.addForm.images=e},addConform(e,t){e?Object(l.f)(t).then((e=>{1==e.code?(this.$message.success(e.message),this.addShow=!1,this.addForm=JSON.parse(JSON.stringify(I)),this.$emit("refresh")):alert(e.message)})):(this.addShow=!1,this.addForm=JSON.parse(JSON.stringify(I)))},edit(){if(!this.$tip()){if(!this.selectedItemList.length)return this.$message.error("请勾选一个报价单再操作");this.addShow=!0,this.formType=2,this.priceSheetId=this.selectedItemList[0].priceSheetId}},deleteItem(){this.deleteShow=!0},conformDelete(e){e&&this.selectedItemList.length>0?(console.log("删除"),console.log(e),this.deleteShow=!1,this.$emit("deleteConform")):this.$message.info("取消删除"),this.deleteShow=!1},refresh(){this.$emit("refresh")}}},N=T,O=(i("00e2"),Object(h.a)(N,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"btnlist"},[t("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")]),t("el-button",{attrs:{type:"primary",disabled:!e.selectedItemList.length},on:{click:e.edit}},[e._v("编辑")]),t("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")]),t("el-button",{attrs:{type:"primary",disabled:!e.selectedItemList.length},on:{click:e.deleteItem}},[e._v("删除")]),t("el-button",{attrs:{type:"primary"},on:{click:e.typeManagement}},[e._v("分类管理")]),t("el-button",{attrs:{type:"primary"},on:{click:e.templateManagement}},[e._v("模板管理")])],1),t("detailForm",{attrs:{addShow:e.addShow,priceSheetId:e.priceSheetId,formType:e.formType},on:{"update:addShow":function(t){e.addShow=t},"update:add-show":function(t){e.addShow=t},addConform:e.addConform}}),t("el-dialog",{attrs:{title:"提示",visible:e.deleteShow,width:"30%"},on:{"update:visible":function(t){e.deleteShow=t}}},[t("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255, 153, 0)","font-size":"24px",transform:"rotate(-15deg)"}}),t("span",{staticClass:"conformdeltext"},[e._v("确认删除吗")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.conformDelete(0)}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.conformDelete(1)}}},[e._v("确 定")])],1)]),t("typemanagement",{ref:"typemanagement0",attrs:{type:1}}),t("templatemanagement",{ref:"templatemanagement",attrs:{type:1}})],1)}),[],!1,null,"7c6298fe",null)),F=O.exports,D={name:"search",data:()=>({dateArr:[],formInline:{customerName:"",page:1,rows:10,sheetTypeId:""},typeList:[]}),mounted(){Object(l.j)().then((e=>{1==e.code&&(this.typeList=e.data)}))},methods:{onSubmit(){this.$emit("search",this.formInline)},clearbox(){this.formInline={customerName:"",page:1,rows:10,formInline:""},this.$emit("search",this.formInline)}}},P=D,j=(i("8554"),Object(h.a)(P,(function(){var e=this,t=e._self._c;return t("div",[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"客户名称:"}},[t("el-input",{staticClass:"inputbox",attrs:{placeholder:""},model:{value:e.formInline.customerName,callback:function(t){e.$set(e.formInline,"customerName",t)},expression:"formInline.customerName"}})],1),t("el-form-item",{attrs:{label:"分类:"}},[t("el-select",{staticClass:"inputbox",attrs:{placeholder:"请选择"},model:{value:e.formInline.sheetTypeId,callback:function(t){e.$set(e.formInline,"sheetTypeId",t)},expression:"formInline.sheetTypeId"}},e._l(e.typeList,(function(e){return t("el-option",{key:e.sheetTypeId,attrs:{label:e.name,value:e.sheetTypeId}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.onSubmit}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.clearbox}},[e._v("清空")])],1)],1)],1)}),[],!1,null,"5b02ada2",null)),A=j.exports,$=i("858e"),U=i("7ec2"),q=i("4d86"),E=i("2dfb");const z=[{name:"customerName",fixed:!0,ch:"客户名称",width:"320"},{name:"language",ch:"语言"},{name:"sheetTypeName",ch:"分类"},{name:"createTime",fixed:!1,ch:"创建日期"},{name:"createName",fixed:!1,ch:"创建人",width:"220"},{name:"permissionName",fixed:!1,ch:"权限"},{name:"orderCount",ch:"订货",fixed:"right"},{name:"lookCount",ch:"浏览",fixed:"right"}],J=[{name:"contactName",fixed:!0,ch:"客户姓名",width:"120"},{name:"contactPhone",ch:"联系电话"},{name:"createTime",width:"220",ch:"提交时间"},{name:"totalPrice",fixed:!1,ch:"总金额"},{name:"totalCtnsNum",fixed:!1,ch:"总箱数",width:"120"},{name:"totalVolume",fixed:!1,ch:"总体积"},{name:"likeCount",ch:"喜欢数量",fixed:"right"}];J.push({name:"operation",fixed:"right",ch:"操作",width:120,align:"center",btnList:[{value:1,name:"详情"},{value:2,name:"删除"}]});const K=[{name:"startTime",ch:"打开时间",width:"320"},{name:"endTime",width:"320",ch:"关闭时间"},{name:"totalTime",width:"320",ch:"浏览时长"}],R=[{name:"supplyUserName",ch:"录入人",width:"120"},{name:"createTime",width:"120",ch:"录入时间"},{name:"content",width:"220",ch:"备忘内容"},{name:"images",ch:"备忘图片"}];R.push({name:"operation",fixed:"right",ch:"操作",width:80,align:"center",btnList:[{value:2,name:"编辑"},{value:1,name:"删除"}]}),z.push({name:"operation",fixed:"right",ch:"操作",width:280,align:"center",btnList:[{value:1,name:"详情"},{value:2,name:"下载PDF"},{value:3,name:"下载EXCEL"},{value:9,name:"打印"},{value:4,name:"更多",more:[{value:5,name:"下载原图"},{value:6,name:"报价备忘"},{value:7,name:"复制"},{value:8,name:"生成订货单"}]}]});const B=[{name:"image",ch:"图片",width:"75"},{name:"fullName",width:"150",ch:"品名"},{name:"factoryNo",width:"100",ch:"货号"},{name:"pack",width:"120",ch:"包装"},{name:"pcsNum",width:"100",ch:"装箱数"},{name:"volume",width:"100",ch:"体积"},{name:"moq",width:"100",ch:"起订量"},{name:"price",width:"100",ch:"单价"},{name:"comment",ch:"备注"}],M=[{name:"images",fixed:!0,ch:"图片",width:"75"},{name:"fullName",width:"150",ch:"样品名称"},{name:"pcsNum",width:"80",ch:"装箱数"},{name:"volume",width:"80",ch:"体积"},{name:"price",width:"80",ch:"价格"},{name:"pack",width:"80",ch:"包装"},{name:"buyNum",width:"80",ch:"箱数"},{name:"totalPrice",width:"80",ch:"总金额"},{name:"comment",width:"180",ch:"备注"}],V=[{name:"images",width:"75",ch:"图片"},{name:"fullName",width:"150",ch:"样品名称"},{name:"pcsNum",width:"80",ch:"装箱数"},{name:"volume",width:"80",ch:"体积"},{name:"price",width:"80",ch:"价格"},{name:"pack",width:"80",ch:"包装"}];var W={name:"tableList",components:{pagination:q.a,detail:k,addordersheet:U.a,pdf:$.a},props:{tableInfo:{type:Object,default:{pageNo:1,pageSize:10,total:0,totalPage:0,rows:[]}}},computed:{},watch:{tableInfo:{handler(e){this.listQuery.pageNo=e.pageNo,this.listQuery.limit=e.pageSize},immediate:!0,deep:!0},multipleSelection:{handler(e){this.$emit("selectedItems",e)},immediate:!0,deep:!0},orderNewCountShow(e){e&&this.getPriceSheetUerList()},lookNewCountShow(e){e&&this.getPriceSheetUserLookDetail()}},data:()=>({lables3:R,pdfUrl:null,printShow:!1,orderSheetId:"",addNewPriceOrderTitle:"新增备忘",addShow:!1,orderSheetByPriceSheetForm:{},lables4:B,defaultTitle:"",priceOrderSelectListShow:!1,priceOrderSelectList:[],selectedselectPriceOrderSelectList:[],addimages:"",addcontent:"",addNewPriceOrderShow:!1,priceOrderShow:!1,orderListChange:!0,orderListLables:M,orderLikeListLables:V,dialogVisible:!1,orderNewCountShow:!1,orderNewCountDetailShow:!1,lookNewCountDetailShow:!1,lookNewCountShow:!1,orderNewCountList:[],lookNewCountList:[],lables:z,lables1:J,lables2:K,listQuery:{pageNo:1,limit:10},priceSheetId:null,detailShow:!1,multipleSelection:[],selectionOrderList:[],formType:"",priceSheetUserId:"",orderList:[],orderLikeList:[],priceOrderList:[],priceOrderListSelected:[],priceSheetTimelineId:null,deleteShow:!1,deletePriceSheetShow:!1}),methods:{conformPrint(){this.$refs.pdf.print()},showOrderList(e){this.orderListChange=e},addordersheetConformaddConform(e,t){e&&Object(E.a)(t).then((e=>{1==e.code?(this.$message.success(e.message),this.addShow=!1,this.$emit("refresh")):this.$message.error(e.message)}))},addorderSheetByPriceSheet(e){if(e&&this.selectedselectPriceOrderSelectList.length){let e=this.selectedselectPriceOrderSelectList.reduce(((e,t)=>[...e,t.specimenId]),[]);Object(l.c)({specimenIds:e.join(","),priceSheetId:this.priceSheetId}).then((e=>{1==e.code&&(this.addShow=!0,this.formType=5,this.orderSheetByPriceSheetForm=e.data),this.priceOrderSelectListShow=!1}))}else this.priceOrderSelectListShow=!1},selectPriceOrderSelectList(e){this.selectedselectPriceOrderSelectList=e},addConform(e,t){Object(l.f)(t).then((e=>{1==e.code?(this.$message.success(e.message),this.detailShow=!1,this.$emit("refresh")):this.$message.error(e.message)}))},addConformOrder(e){if(e){if(!this.addcontent)return this.$message.error("请输入备忘内容");Object(l.g)({content:this.addcontent,images:this.addimages,priceSheetId:this.priceSheetId,priceSheetTimelineId:this.priceSheetTimelineId}).then((e=>{1==e.code&&(this.$message.success(e.message),this.addcontent="",this.addimages="",this.priceSheetTimelineList())}))}else this.addcontent="",this.addimages="";this.addNewPriceOrderShow=!1},hanldeClick2(e,t){switch(this.priceSheetTimelineId=t.priceSheetTimelineId,e){case 1:this.conformDeleteOrder();break;case 2:this.addNewPriceOrderTitle="编辑备忘",this.addNewPriceOrderShow=!0,this.addimages=t.images,this.addcontent=t.content}},conformDeleteOrder(){const e={priceSheetTimelineId:this.priceSheetTimelineId};this.$del((()=>{Object(l.h)(e).then((e=>{1==e.code&&(this.$message.success(e.message),this.priceSheetTimelineList())}))}))},getImgList(e,t){console.log("图片上传",e),this.addimages=e},addNewPriceOrder(){this.addimages="",this.addcontent="",this.priceSheetTimelineId="",this.addNewPriceOrderTitle="新增备忘",this.addNewPriceOrderShow=!0},toOrderSheetByPriceSheet(){if(!this.selectionOrderList.length)return;let e=[];this.selectionOrderList.forEach((t=>{e.push(t.specimenId)}));const t={priceSheetId:this.priceSheetId,specimenIds:e.join(",")};Object(l.c)(t).then((e=>{1==e.code&&(this.addShow=!0,this.orderSheetByPriceSheetForm=e.data,this.formType=5)}))},handleSelectionOrderList(e){this.selectionOrderList=e},getPriceSheetUerList(){Object(l.m)({priceSheetId:this.priceSheetId}).then((e=>{this.orderNewCountList=e,this.$emit("refresh")}))},getPriceSheetUserLookDetail(){Object(l.n)({priceSheetId:this.priceSheetId}).then((e=>{1==e.code&&(this.lookNewCountList=e.data.items,this.$emit("refresh"))}))},pageList(e){console.log({queryPage:e}),this.$emit("getList",e)},orderNewCount(e){this.priceSheetId=e,this.orderNewCountShow=!0},lookNewCount(e){this.priceSheetId=e,this.lookNewCountShow=!0},handleSelectionChange(e){console.log(e),this.multipleSelection=e},hanldeClick(e,t){switch(console.log(e,t),this.priceSheetId=t,e){case 1:this.detailShow=!0,this.formType=3;break;case 2:if(this.$tip())return;this.downloadPdf(1);break;case 3:if(this.$tip())return;this.downloadPdf(2);break;case 5:if(this.$tip())return;this.sheetGenerateDetailImage();break;case 6:this.priceOrderShow=!0,this.priceSheetTimelineList();break;case 7:this.detailShow=!0,this.formType=4,this.defaultTitle="复制报价单";break;case 8:this.getPriceOrderSheetList();break;case 9:this.pdfUrl=null;const e={priceSheetId:this.priceSheetId};let t,i=1;t=1==i?"正在加载pdf，请稍后...":"正在加载excel，请稍后...";const s=this.loadFn(t),a=()=>{s.close()};Object(l.p)(e).then((e=>{if(1==e.code){let t;1==i?(t=e.data.pdfUrl,this.pdfUrl=t):2==i&&(t=e.data.excelUrl),this.printShow=!0,a()}}))}},getPriceOrderSheetList(){this.priceOrderSelectListShow=!0,Object(l.e)({priceSheetId:this.priceSheetId}).then((e=>{1==e.code&&(this.priceOrderSelectList=e.data.items)}))},downloadPdf(e){const t={priceSheetId:this.priceSheetId};let i;i=1==e?"正在生成pdf，请稍后...":"正在生成excel，请稍后...";const s=this.loadFn(i),a=()=>{s.close()};Object(l.p)(t).then((t=>{if(1==t.code){let i;1==e?i=t.data.pdfUrl:2==e&&(i=t.data.excelUrl);const s=i.lastIndexOf("/")+1,o=i.slice(s);Object(L.a)(i,o,a).then((e=>{}))}}))},sheetGenerateDetailImage(){const e=this.loadFn("正在生成原图，请稍后..."),t=()=>e.close(),i={priceSheetId:this.priceSheetId};Object(l.q)(i).then((e=>{1==e.code&&Object(L.a)(e.data.downloadUrl,e.data.saveName,t).then((e=>{}))}))},priceSheetTimelineList(){const e={priceSheetId:this.priceSheetId};Object(l.i)(e).then((e=>{e&&(this.priceOrderList=e)}))},priceOrderListChange(e){this.priceOrderListSelected=e},hanldeClick1(e,t){switch(console.log(arguments),this.priceSheetUserId=t,e){case 1:this.orderNewCountDetailShow=!0,this.orderListChange=!0,setTimeout((()=>{document.getElementById("orderlistshow").click()})),this.priceSheetUserItemList();break;case 2:this.deletePriceSheetShow=!0}},conformDeletePriceSheet(){this.priceSheetUserDelete()},priceSheetUserItemList(){Object(l.l)({priceSheetUserId:this.priceSheetUserId}).then((e=>{1==e.code&&(this.orderList=e.data.items,this.orderLikeList=e.data.likeItems)}))},priceSheetUserDelete(){Object(l.k)({priceSheetUserId:this.priceSheetUserId}).then((e=>{1==e.code&&(this.$message.success(e.message),this.getPriceSheetUerList())}))},handleClose(){this.detailShow=!1}}},Q=W,G=(i("3adf"),Object(h.a)(Q,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"tablelist"},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableInfo.rows,"tooltip-effect":"dark",border:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.lables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"card"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[e._l(i.btnList,(function(i,a){return[a<=3?t("el-button",{key:a,attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick(i.value,s.row.priceSheetId)}}},[e._v(e._s(i.name))]):e._e(),4==a?t("el-popover",{key:a,attrs:{placement:"bottom",width:"80",trigger:"hover"}},[t("div",{staticStyle:{display:"flex","flex-wrap":"wrap",width:"100%"}},e._l(i.more,(function(i,a){return t("el-button",{key:a,staticStyle:{width:"100%"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick(i.value,s.row.priceSheetId)}}},[e._v(e._s(i.name))])})),1),t("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[e._v(e._s(i.name))])],1):e._e()]}))],2):"card"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.card,"preview-src-list":[s.row.card]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):"orderCount"==i.name?t("div",{staticClass:"ordercountstyle",on:{click:function(t){return e.orderNewCount(s.row.priceSheetId)}}},[e._v(" "+e._s(s.row[String(i.name)])+" "),t("span",{directives:[{name:"show",rawName:"v-show",value:0!=s.row.orderNewCount,expression:"scope.row['orderNewCount'] != 0"}]},[e._v(" "+e._s(s.row.orderNewCount)+" ")])]):"lookCount"==i.name?t("div",{staticClass:"ordercountstyle",on:{click:function(t){return e.lookNewCount(s.row.priceSheetId)}}},[e._v(" "+e._s(s.row[String(i.name)])+" "),t("span",{directives:[{name:"show",rawName:"v-show",value:0!=s.row.lookNewCount,expression:"scope.row['lookNewCount'] != 0"}]},[e._v(" "+e._s(s.row.lookNewCount))])]):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2),t("el-dialog",{attrs:{title:"客户订货",visible:e.orderNewCountShow,width:"60%"},on:{"update:visible":function(t){e.orderNewCountShow=t}}},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.orderNewCountList,"tooltip-effect":"dark",border:"",height:"400"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.lables1,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"card"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(i.btnList,(function(i,a){return t("el-button",{key:a,attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick1(i.value,s.row.priceSheetUserId)}}},[e._v(e._s(i.name))])})),1):"card"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.card,"preview-src-list":[s.row.card]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2)],1),t("el-dialog",{attrs:{title:"客户订货详情",visible:e.orderNewCountDetailShow,width:"50%"},on:{"update:visible":function(t){e.orderNewCountDetailShow=t}}},[t("div",{staticClass:"button-list",staticStyle:{"margin-bottom":"10px"}},[t("el-button",{attrs:{id:"orderlistshow"},on:{click:function(t){return e.showOrderList(!0)}}},[e._v("订货列表")]),t("el-button",{on:{click:function(t){return e.showOrderList(!1)}}},[e._v("喜欢列表")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.orderListChange,expression:"orderListChange"}],attrs:{type:"primary"},on:{click:e.toOrderSheetByPriceSheet}},[e._v("生成订货单")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.orderListChange,expression:"orderListChange"}],staticClass:"order-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,"tooltip-effect":"dark",border:"",height:"400"},on:{"selection-change":e.handleSelectionOrderList}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.orderListLables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"images"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(i.btnList,(function(i,a){return t("el-button",{key:a,attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick1(i.value,s.row.priceSheetUserId)}}},[e._v(e._s(i.name))])})),1):"images"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.images[0],"preview-src-list":[...s.row.images]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):"orderCount"==i.name?t("div",{staticClass:"ordercountstyle"},[e._v(" "+e._s(s.row[String(i.name)])+" "),t("span",{on:{click:function(t){return e.orderNewCount(s.row.priceSheetId)}}},[e._v(" "+e._s(s.row.orderNewCount)+" ")])]):"lookCount"==i.name?t("div",{staticClass:"ordercountstyle"},[e._v(" "+e._s(s.row[String(i.name)])+" "),t("span",{on:{click:function(t){return e.lookNewCount(s.row.priceSheetId)}}},[e._v(" "+e._s(s.row.lookNewCount))])]):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.orderListChange,expression:"!orderListChange"}],staticClass:"order-like-list"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderLikeList,"tooltip-effect":"dark",border:"",height:"400"}},e._l(e.orderLikeListLables,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"images"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(i.btnList,(function(i,a){return t("el-button",{key:a,attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick1(i.value,s.row.priceSheetUserId)}}},[e._v(e._s(i.name))])})),1):"images"==i.name?t("div",{staticClass:"demo-image__preview"},e._l(s.row.images,(function(i,s){return t("el-image",{key:s,staticStyle:{width:"48px",height:"48px",margin:"0 5px"},attrs:{src:i,"preview-src-list":[i]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])})),1):"orderCount"==i.name?t("div",{staticClass:"ordercountstyle"},[e._v(" "+e._s(s.row[String(i.name)])+" "),t("span",{on:{click:function(t){return e.orderNewCount(s.row.priceSheetId)}}},[e._v(" "+e._s(s.row.orderNewCount)+" ")])]):"lookCount"==i.name?t("div",{staticClass:"ordercountstyle"},[e._v(" "+e._s(s.row[String(i.name)])+" "),t("span",{on:{click:function(t){return e.lookNewCount(s.row.priceSheetId)}}},[e._v(" "+e._s(s.row.lookNewCount))])]):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})})),1)],1)]),t("el-dialog",{attrs:{title:"浏览记录",visible:e.lookNewCountShow,width:"60%"},on:{"update:visible":function(t){e.lookNewCountShow=t}}},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.lookNewCountList,"tooltip-effect":"dark",border:"",height:"400"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"expand",fixed:""},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-table",{staticStyle:{width:"100%"},attrs:{data:i.row.specimenItems}},[t("el-table-column",{attrs:{prop:"image",label:"图片",width:"180"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:i.row.image,"preview-src-list":[i.row.image]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1)]}}],null,!0)}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"fullName",label:"品名",width:"180"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"lookSecond",label:"浏览时长"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("div",[e._v(e._s(i.row.lookSecond)+"秒")])]}}],null,!0)})],1)]}}])}),e._l(e.lables2,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"card"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(i.btnList,(function(i,a){return t("el-button",{key:a,attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick(i.value,s.row.priceSheetId)}}},[e._v(e._s(i.name))])})),1):"card"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.card,"preview-src-list":[s.row.card]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2)],1),t("el-dialog",{attrs:{title:"报价备忘",visible:e.priceOrderShow,width:"60%"},on:{"update:visible":function(t){e.priceOrderShow=t}}},[t("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.addNewPriceOrder}},[e._v(" 新增 ")]),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.priceOrderList,"tooltip-effect":"dark",border:"",height:"400"},on:{"selection-change":e.priceOrderListChange}},e._l(e.lables3,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"images"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}},e._l(i.btnList,(function(i,a){return t("el-button",{key:a,attrs:{type:"text",size:"small"},on:{click:function(t){return e.hanldeClick2(i.value,s.row)}}},[e._v(e._s(i.name))])})),1):"images"==i.name?t("div",{staticClass:"demo-image__preview"},e._l(s.row.images.split(","),(function(i,s){return t("el-image",{key:s,staticStyle:{width:"48px",height:"48px",margin:"0 5px"},attrs:{src:i,"preview-src-list":[i]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])})),1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})})),1),t("el-dialog",{attrs:{title:e.addNewPriceOrderTitle,visible:e.addNewPriceOrderShow,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.addNewPriceOrderShow=t}}},[t("div",{staticStyle:{display:"flex","margin-bottom":"10px"}},[t("span",[e._v("备忘内容：")]),t("el-input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.addcontent,callback:function(t){e.addcontent=t},expression:"addcontent"}})],1),t("div",{staticStyle:{display:"flex"}},[t("span",[e._v("备忘图片：")]),e.addNewPriceOrderShow?t("upload-img",{attrs:{value:e.addimages,dist:"priceSheet",multiple:!0,limit:8},on:{input:e.getImgList}}):e._e()],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.addConformOrder(0)}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addConformOrder(1)}}},[e._v("确 定")])],1)])],1),t("el-dialog",{attrs:{title:"提示",visible:e.deleteShow,width:"30%"},on:{"update:visible":function(t){e.deleteShow=t}}},[t("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255, 153, 0)","font-size":"24px",transform:"rotate(-15deg)"}}),t("span",{staticStyle:{"margin-left":"10px","font-size":"18px"}},[e._v("确认删除")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.deleteShow=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.conformDeleteOrder}},[e._v("确 定")])],1)]),t("el-dialog",{attrs:{title:"提示",visible:e.deletePriceSheetShow,width:"30%"},on:{"update:visible":function(t){e.deletePriceSheetShow=t}}},[t("i",{staticClass:"el-icon-info",staticStyle:{color:"rgb(255, 153, 0)","font-size":"24px",transform:"rotate(-15deg)"}}),t("span",{staticStyle:{"margin-left":"10px","font-size":"18px"}},[e._v("确认删除")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.deletePriceSheetShow=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.conformDeletePriceSheet}},[e._v("确 定")])],1)]),t("el-dialog",{attrs:{title:"选择订货样品",visible:e.priceOrderSelectListShow,width:"80%"},on:{"update:visible":function(t){e.priceOrderSelectListShow=t}}},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.priceOrderSelectList,"tooltip-effect":"dark",border:"",height:"400"},on:{"selection-change":e.selectPriceOrderSelectList}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"selection",width:"45"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,type:"index",label:"序号",fixed:"",align:"center",width:"50"}}),e._l(e.lables4,(function(i,s){return t("el-table-column",{key:s,attrs:{"show-overflow-tooltip":"image"!=i.name,label:i.ch,prop:i.name,fixed:i.fixed,width:i.width||"auto",align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",["operation"==i.name?t("div",{staticStyle:{display:"flex","justify-content":"space-around"}}):"image"==i.name?t("div",{staticClass:"demo-image__preview"},[t("el-image",{staticStyle:{width:"48px",height:"48px"},attrs:{src:s.row.image,"preview-src-list":[s.row.image]}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v(" 加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])],1):t("div",[e._v(" "+e._s(s.row[String(i.name)])+" ")])])]}}],null,!0)})}))],2),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){return e.addorderSheetByPriceSheet(0)}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addorderSheetByPriceSheet(1)}}},[e._v("确 定")])],1)],1),t("pagination",{attrs:{total:e.tableInfo.total||0,page:e.listQuery.pageNo||0,limit:e.listQuery.limit||0},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNo || 0",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit || 0",t)},pagination:e.pageList}}),t("detail",{attrs:{addShow:e.detailShow,formType:e.formType,priceSheetId:e.priceSheetId,defaultTitle:e.defaultTitle},on:{"update:addShow":function(t){e.detailShow=t},"update:add-show":function(t){e.detailShow=t},"update:defaultTitle":function(t){e.defaultTitle=t},"update:default-title":function(t){e.defaultTitle=t},addConform:e.addConform}}),t("el-dialog",{attrs:{title:"预览",visible:e.printShow,width:"100%",fullscreen:!0},on:{"update:visible":function(t){e.printShow=t}}},[t("div",{staticStyle:{height:"calc(100vh - 200px)","overflow-y":"auto"},attrs:{id:"vpdf"}},[t("pdf",{ref:"pdf",attrs:{src:e.pdfUrl}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.printShow=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.conformPrint}},[e._v("打 印")])],1)]),t("addordersheet",{attrs:{addShow:e.addShow,orderSheetId:e.orderSheetId,formType:e.formType,defaultForm:e.orderSheetByPriceSheetForm},on:{"update:addShow":function(t){e.addShow=t},"update:add-show":function(t){e.addShow=t},addConform:e.addordersheetConformaddConform}})],1)}),[],!1,null,"5e09de28",null)),X={name:"supplyCustomer",components:{btnlist:F,search:A,tablelist:G.exports},data:()=>({tableInfo:{},formInline:{customerName:"",page:1,rows:10,sheetTypeId:""},selectedItemList:[]}),created(){this.search(this.formInline)},methods:{search(e){this.formInline=e,Object(l.o)(e).then((e=>{e&&(this.tableInfo=e)}))},selectedItems(e){console.log(e),this.selectedItemList=e},getList(e){this.formInline=Object.assign(this.formInline,e),this.search(this.formInline)},refresh(){this.search(this.formInline)},deleteConform(){const e=this.selectedItemList[0].priceSheetId;Object(l.a)({priceSheetId:e}).then((e=>{1==e.code?(this.$message.success(e.message),this.search(this.formInline)):this.$message.error(e.message)}))}},mounted(){}},H=X,Y=Object(h.a)(H,(function(){var e=this,t=e._self._c;return t("div",[t("search",{on:{search:e.search}}),t("btnlist",{attrs:{selectedItemList:e.selectedItemList},on:{deleteConform:e.deleteConform,refresh:e.refresh}}),t("tablelist",{attrs:{tableInfo:e.tableInfo},on:{getList:e.getList,selectedItems:e.selectedItems,refresh:e.refresh}})],1)}),[],!1,null,"6698fcb1",null);t.default=Y.exports},f184:function(e,t,i){},fb77:function(e,t,i){},ff46:function(e,t,i){}}]);